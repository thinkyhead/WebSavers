<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
    <title>Orbital Glow</title>
    <style>body{ margin: 0; overflow: hidden; background: #111; }</style>
  </head>
  <body>
    <script type="importmap">
    {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.182.0/build/three.module.js"
      }
    }
    </script>
    <script type="module">

      import * as THREE from 'three';

      /* ---- scene & camera ---- */
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.set(0, 0, 30);

      const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);

      /* ---- spheres ---- */
      const count = 200;
      const geometry = new THREE.SphereGeometry(0.5, 16, 16);
      const materialBase = new THREE.MeshBasicMaterial({transparent:true, opacity:0.8, blending:THREE.AdditiveBlending});
      const spheres = [];

      for (let i = 0; i < count; i++) {
        const hue = Math.random() * 360;                   // Random hue
        const color = new THREE.Color(`hsl(${hue}, 70%, 60%)`);
        const mat = materialBase.clone(); mat.color = color;
        const mesh = new THREE.Mesh(geometry, mat);
        mesh.userData = {
           phase: Math.random() * Math.PI *  2,            // Random starting phase
           offsetX: (Math.random() - 0.5) * 20,            // Spread in X
           offsetZ: (Math.random() - 0.5) * 20,            // Spread in Z
        };
        scene.add(mesh);
        spheres.push(mesh);
      }

      // animation
      let time = Math.random() * 10000;
      function animate() {
        time += 0.01;
        const radius = 15;

        // rotate camera around origin
        camera.position.x = Math.cos(time * 0.2) * radius;
        camera.position.z = Math.sin(time * 0.2) * radius;
        camera.lookAt(0,0,0);

        spheres.forEach((s,i) => {
          const t = time + s.userData.phase;
          s.position.x = Math.sin(t) * 10 + (i % 10) * 1.5;
          s.position.y = Math.cos(t * 0.5) * 5;
          s.position.z = Math.sin(t * 0.3) * 10;
          s.scale.setScalar(1 + 0.5 * Math.sin(t * 3));
        });

        renderer.render(scene, camera);
        requestAnimationFrame(animate);
      }

      animate();

    </script>
  </body>
</html>
